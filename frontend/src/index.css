@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root{
    --chat-paper: #ece5dd; /* WhatsApp-like paper tone */
     --chat-paper: #ece5dd; 
  }
  body {
    @apply antialiased bg-slate-50 text-slate-900;
  }
}

/* -------- Components -------- */
@layer components {
  .message-bubble {
    animation: slideIn 0.25s ease-out;
    will-change: transform, opacity;
  }

  @keyframes slideIn {
    from { opacity: 0; transform: translateY(6px); }
    to   { opacity: 1; transform: translateY(0); }
  }

  .typing-indicator { @apply inline-flex space-x-1; }
  .typing-indicator span { @apply w-2 h-2 bg-gray-400 rounded-full animate-pulse; }

  .file-upload-zone {
    @apply border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-emerald-500 transition-colors;
  }

  .encryption-badge {
    @apply inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800;
  }
}

/* -------- Utilities -------- */
@layer utilities {
  .scrollbar-thin { scrollbar-width: thin; scrollbar-color: rgb(203 213 225) transparent; }
  .scrollbar-thin::-webkit-scrollbar { width: 6px; height: 6px; }
  .scrollbar-thin::-webkit-scrollbar-track { background: transparent; }
  .scrollbar-thin::-webkit-scrollbar-thumb { background-color: rgb(203 213 225); border-radius: 3px; }
  .scrollbar-thin::-webkit-scrollbar-thumb:hover { background-color: rgb(148 163 184); }
}
/* === Liquid Ether background === */
.le-blob {
  position: absolute;
  width: 60vmax;
  height: 60vmax;
  filter: blur(60px);
  transform: translate3d(0,0,0);
  will-change: transform, opacity;
}

/* Blob paths (different orbits) */
.le-blob-a { 
  top: -10vmax; left: -15vmax;
  animation: le-orbit-a 22s ease-in-out infinite alternate;
}
.le-blob-b { 
  bottom: -15vmax; right: -10vmax;
  animation: le-orbit-b 26s ease-in-out infinite alternate-reverse;
}
.le-blob-c { 
  top: 20%; left: 40%;
  animation: le-orbit-c 28s ease-in-out infinite alternate;
}

/* Orbits (slow, smooth) */
@keyframes le-orbit-a {
  0%   { transform: translate(-5%, -5%) scale(1);   }
  50%  { transform: translate(10%, 12%)  scale(1.05);}
  100% { transform: translate(18%, -4%)  scale(0.98);}
}
@keyframes le-orbit-b {
  0%   { transform: translate(10%, 6%)   scale(1.05);}
  50%  { transform: translate(-8%, -10%) scale(1.02);}
  100% { transform: translate(-16%, 8%)  scale(1.06);}
}
@keyframes le-orbit-c {
  0%   { transform: translate(-10%, 0%) scale(0.95);}
  50%  { transform: translate(5%, -12%) scale(1.05);}
  100% { transform: translate(12%, 10%) scale(0.98);}
}

/* ultra-light noise texture (data-URI keeps it self-contained) */
.le-noise {
  background-image: url("data:image/svg+xml;utf8,\
<svg xmlns='http://www.w3.org/2000/svg' width='160' height='160'>\
<filter id='n'><feTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='2' stitchTiles='stitch'/></filter>\
<rect width='100%' height='100%' filter='url(%23n)' opacity='0.9'/></svg>");
  background-size: 220px 220px;
}
